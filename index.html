<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Watermelon Sugar High</title>
    <meta name="author" content="Lucas Kern">
    <meta name="description" content="Gigglebox project 1">
    <meta name="keywords" content="javascript, harry styles, watermelon sugar high, code challenge">

    <style type="text/css">
        body {
            background-color: #F35588;
        }

        #parent {
            width: 100%;
            height: 100%;
        }

        #play {
            display: block;
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: transparent;
            color: White;
            border: none;
            font-size: 50px;
            z-index: 1;
        }

        #main {
            display: block;
            position: absolute;
            top: 30vh;
            left: 35%;
            text-align: center;
            max-width: 500px;
            z-index: 10;
        }
    </style>

  </head>

  <body>

    <div id="parent">

        <img id="main" src="">

        <button id="play" onclick="playSong()">&#9654;</button>

        <audio id="song">
            <source src="watermelon.mp3" type="audio/mp3">
        </audio>
    </div>
  
    <script type="text/javascript">

        let song
        let play

        let faces = [
            ["sr1.png", "sr2.jpg"],
            ["rd1.jpg", "rd2.jpg"],
            ["ah1.jpg", "ah2.jpg"],
            ["dd1.jpg", "dd2.jpg"],
        ]

        function autorun()
        {
            song = document.getElementById("song")
            console.log(song)

            play = document.getElementById("play")
            
            main = document.getElementById("main")

            body = document.get("body")
        }

        function playSong() {
            console.log("play ran")
            song.volume = .5
            song.currentTime = 50
            song.play()

            setTimeout(function() {main.src="./images/"+faces[0][0]; document.body.style.backgroundColor  = "#F35588"}, 0)
            setTimeout(function() {main.src="./images/"+faces[0][1]; document.body.style.backgroundColor  = "#71A95A"}, 1600)

            setTimeout(function() {main.src="./images/"+faces[1][0]; document.body.style.backgroundColor  = "#F35588"}, 2800)
            setTimeout(function() {main.src="./images/"+faces[1][1]; document.body.style.backgroundColor  = "#71A95A"}, 4000)

            setTimeout(function() {main.src="./images/"+faces[2][0]; document.body.style.backgroundColor  = "#F35588"}, 5400)
            setTimeout(function() {main.src="./images/"+faces[2][1]; document.body.style.backgroundColor  = "#71A95A"}, 6600)

            setTimeout(function() {main.src="./images/"+faces[3][0]; document.body.style.backgroundColor  = "#F35588"}, 7800)
            setTimeout(function() {main.src="./images/"+faces[3][1]; document.body.style.backgroundColor  = "#71A95A"}, 8800)

            setTimeout(function() {song.pause()}, 10400)
        }

        function resetSong() {
            song.stop
        }


        if (window.addEventListener) window.addEventListener("load", autorun, false);
        else if (window.attachEvent) window.attachEvent("onload", autorun);
        else window.onload = autorun;
    </script>

  </body>
</html>